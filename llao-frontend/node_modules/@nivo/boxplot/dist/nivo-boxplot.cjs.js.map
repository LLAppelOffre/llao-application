{"version":3,"file":"nivo-boxplot.cjs.js","sources":["../src/BoxPlotAnnotations.tsx","../src/BoxPlotLegends.tsx","../src/BoxPlotItem.tsx","../src/BoxPlotTooltip.tsx","../src/props.ts","../src/compute/generation.ts","../src/compute/common.ts","../src/compute/stratification.ts","../src/hooks.ts","../src/compute/legends.ts","../src/BoxPlot.tsx","../src/ResponsiveBoxPlot.tsx"],"sourcesContent":["import { Annotation, useAnnotations } from '@nivo/annotations'\nimport { BoxPlotAnnotationsProps, ComputedBoxPlotSummary } from './types'\n\nconst getPosition = (boxPlot: ComputedBoxPlotSummary) => ({\n    x: boxPlot.x + boxPlot.width / 2,\n    y: boxPlot.y + boxPlot.height / 2,\n})\n\nconst getDimensions = ({ width, height }: { width: number; height: number }) => ({\n    width,\n    height,\n    size: Math.max(width, height),\n})\n\nexport const BoxPlotAnnotations = ({ boxPlots, annotations }: BoxPlotAnnotationsProps) => {\n    const boundAnnotations = useAnnotations({\n        data: boxPlots,\n        annotations,\n        getPosition,\n        getDimensions,\n    })\n\n    return (\n        <>\n            {boundAnnotations.map((annotation, i) => (\n                <Annotation key={i} {...annotation} />\n            ))}\n        </>\n    )\n}\n","import { BoxLegendSvg, LegendProps } from '@nivo/legends'\nimport { LegendData } from './types'\n\ninterface BoxPlotLegendsProps {\n    width: number\n    height: number\n    legends: [LegendProps, LegendData[]][]\n}\n\nexport const BoxPlotLegends = ({ width, height, legends }: BoxPlotLegendsProps) => (\n    <>\n        {legends.map(([legend, data], i) => {\n            // Advanced feature:\n            // Allow a legend spec to carry its own custom content via 'legend.data'\n            // Or fallback on content provided via 'data'\n            return (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={legend.data ?? data}\n                />\n            )\n        })}\n    </>\n)\n","import { createElement, MouseEvent, useCallback, useMemo } from 'react'\nimport { animated, SpringValue } from '@react-spring/web'\nimport { useTooltip } from '@nivo/tooltip'\nimport { BoxPlotDatum, BoxPlotItemProps } from './types'\n\nconst BoxPlotItemWhisker = ({\n    distStart,\n    distEnd,\n    whiskerEndSize,\n    whiskerColor,\n    whiskerWidth,\n}: {\n    distStart: SpringValue<number>\n    distEnd: SpringValue<number>\n    whiskerEndSize: number\n    whiskerColor: SpringValue<string>\n    whiskerWidth: number\n}) => {\n    return (\n        <>\n            <animated.line\n                x1={0}\n                x2={0}\n                y1={distStart}\n                y2={distEnd}\n                strokeWidth={whiskerWidth}\n                stroke={whiskerColor}\n            />\n            {whiskerEndSize > 0 ? (\n                <animated.line\n                    x1={-whiskerEndSize}\n                    x2={whiskerEndSize}\n                    y1={distEnd}\n                    y2={distEnd}\n                    strokeWidth={whiskerWidth}\n                    stroke={whiskerColor}\n                />\n            ) : null}\n        </>\n    )\n}\n\nexport const BoxPlotItem = <RawDatum extends BoxPlotDatum>({\n    boxPlot,\n    layout,\n    animatedProps: {\n        borderColor,\n        medianColor,\n        whiskerColor,\n        color,\n        opacity,\n        transform,\n        valueInterval,\n        valueDistance0,\n        valueDistance1,\n        valueDistance3,\n        valueDistance4,\n    },\n    borderRadius,\n    borderWidth,\n    medianWidth,\n    whiskerWidth,\n    whiskerEndSize,\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    setActiveItem,\n    tooltip,\n    isFocusable,\n    ariaLabel,\n    ariaLabelledBy,\n    ariaDescribedBy,\n}: BoxPlotItemProps<RawDatum>) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const vertical = layout === 'vertical'\n    const bandwidth = vertical ? boxPlot.width : boxPlot.height\n\n    const renderTooltip = useMemo(() => () => createElement(tooltip, boxPlot), [tooltip, boxPlot])\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            onClick?.(boxPlot, event)\n        },\n        [boxPlot, onClick]\n    )\n    const handleTooltip = useCallback(\n        (event: MouseEvent<SVGRectElement>) => showTooltipFromEvent(renderTooltip(), event),\n        [showTooltipFromEvent, renderTooltip]\n    )\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            onMouseEnter?.(boxPlot, event)\n            showTooltipFromEvent(renderTooltip(), event)\n            setActiveItem(boxPlot)\n        },\n        [boxPlot, onMouseEnter, showTooltipFromEvent, renderTooltip, setActiveItem]\n    )\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGRectElement>) => {\n            onMouseLeave?.(boxPlot, event)\n            hideTooltip()\n            setActiveItem(null)\n        },\n        [boxPlot, hideTooltip, onMouseLeave, setActiveItem]\n    )\n    const handleBlur = useCallback(() => {\n        hideTooltip()\n    }, [hideTooltip])\n\n    return (\n        <animated.g\n            data-key={`boxplot.${boxPlot.key}`}\n            transform={transform}\n            opacity={opacity}\n            onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n            onMouseMove={isInteractive ? handleTooltip : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n            onBlur={isInteractive && isFocusable ? handleBlur : undefined}\n            focusable={isFocusable}\n            tabIndex={isFocusable ? 0 : undefined}\n            aria-label={ariaLabel ? ariaLabel(boxPlot) : undefined}\n            aria-labelledby={ariaLabelledBy ? ariaLabelledBy(boxPlot) : undefined}\n            aria-describedby={ariaDescribedBy ? ariaDescribedBy(boxPlot) : undefined}\n        >\n            <animated.rect\n                x={-bandwidth / 2}\n                y={vertical ? valueDistance3 : valueDistance1}\n                width={bandwidth}\n                height={valueInterval}\n                rx={borderRadius}\n                ry={borderRadius}\n                fill={boxPlot.fill ?? color}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n            />\n            <animated.line\n                x1={-bandwidth / 2}\n                x2={bandwidth / 2}\n                y1={0}\n                y2={0}\n                strokeWidth={medianWidth}\n                stroke={medianColor}\n            />\n            <BoxPlotItemWhisker\n                distStart={valueDistance1}\n                distEnd={valueDistance0}\n                whiskerEndSize={(whiskerEndSize * bandwidth) / 2}\n                whiskerColor={whiskerColor}\n                whiskerWidth={whiskerWidth}\n            />\n            <BoxPlotItemWhisker\n                distStart={valueDistance3}\n                distEnd={valueDistance4}\n                whiskerEndSize={(whiskerEndSize * bandwidth) / 2}\n                whiskerColor={whiskerColor}\n                whiskerWidth={whiskerWidth}\n            />\n        </animated.g>\n    )\n}\n","import { memo } from 'react'\nimport { Chip } from '@nivo/tooltip'\nimport { useTheme, Theme } from '@nivo/theming'\nimport { BoxPlotSummaryFormatted, BoxPlotTooltipProps, BoxPlotSummary } from './types'\n\ninterface BoxPlotSummaryTooltipProps {\n    label: string\n    formatted: BoxPlotSummaryFormatted\n    color?: string\n    enableChip?: boolean\n}\n\ntype Translation = Record<string, number | string>\n\nexport const defaultTranslation = {\n    n: 'n',\n    mean: 'mean',\n    min: 'min',\n    max: 'max',\n    Summary: 'Summary',\n    Quantiles: 'Quantiles',\n}\n\ntype ExtendedTheme = Theme & {\n    translation: Translation\n}\n\nconst hasTranslation = (theme: Theme | ExtendedTheme): theme is ExtendedTheme => {\n    return 'translation' in theme\n}\n\nexport const BoxPlotSummaryTooltip = memo<BoxPlotSummaryTooltipProps>(\n    ({ label, formatted, enableChip = false, color }) => {\n        const theme = useTheme()\n        let translation = defaultTranslation\n        if (hasTranslation(theme)) {\n            translation = {\n                ...defaultTranslation,\n                ...theme.translation,\n            }\n        }\n\n        const quantiles = formatted.quantiles.map((q, i) => (\n            <div key={'quantile.' + i}>\n                {q}%: <strong>{formatted.values[i]}</strong>\n            </div>\n        ))\n        return (\n            <div style={theme.tooltip.container}>\n                <div style={theme.tooltip.basic}>\n                    {enableChip && <Chip color={color ?? ''} style={theme.tooltip.chip} />}\n                    {label}\n                </div>\n                <div style={{ display: 'flex', marginTop: '1rem' }}>\n                    <div style={{ marginRight: '2rem' }}>\n                        <div>\n                            {translation.n}: <strong>{formatted.n}</strong>\n                        </div>\n                        <div style={{ marginTop: '1rem' }}>{translation.Summary}</div>\n                        <div>\n                            {translation.mean}: <strong>{formatted.mean}</strong>\n                        </div>\n                        <div>\n                            {translation.min}: <strong>{formatted.extrema[0]}</strong>\n                        </div>\n                        <div>\n                            {translation.max}: <strong>{formatted.extrema[1]}</strong>\n                        </div>\n                    </div>\n                    <div>\n                        <div>{translation.Quantiles}</div>\n                        {quantiles}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n)\n\nexport const BoxPlotTooltip = ({ color, label, formatted }: BoxPlotTooltipProps) => {\n    return (\n        <BoxPlotSummaryTooltip\n            label={label}\n            formatted={formatted}\n            enableChip={true}\n            color={color}\n        />\n    )\n}\n\nexport const BoxPlotTooltipLabel = (datum: BoxPlotSummary) => {\n    if (datum.subGroup) {\n        return datum.group + ' - ' + datum.subGroup\n    }\n    return datum.group\n}\n","import { BoxPlotItem } from './BoxPlotItem'\nimport { BoxPlotTooltip, BoxPlotTooltipLabel } from './BoxPlotTooltip'\nimport { InheritedColorConfig, OrdinalColorScaleConfig } from '@nivo/colors'\nimport { ScaleBandSpec, ScaleLinearSpec } from '@nivo/scales'\nimport { ComputedBoxPlotSummary } from './types'\n\nexport const defaultProps = {\n    value: 'value',\n    groupBy: 'group',\n    groups: null,\n    subGroupBy: null,\n    subGroups: null,\n\n    quantiles: [0.1, 0.25, 0.5, 0.75, 0.9],\n\n    layout: 'vertical' as const,\n\n    minValue: 'auto' as const,\n    maxValue: 'auto' as const,\n\n    valueScale: { type: 'linear' } as ScaleLinearSpec,\n    indexScale: { type: 'band', round: true } as ScaleBandSpec,\n\n    padding: 0.1,\n    innerPadding: 6,\n\n    opacity: 1,\n    activeOpacity: 1,\n    inactiveOpacity: 0.25,\n\n    axisTop: null,\n    axisRight: null,\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: false,\n    enableGridY: true,\n\n    valueFormat: (value: number) => value.toPrecision(4),\n\n    colorBy: 'subGroup' as const,\n    colors: { scheme: 'nivo' } as OrdinalColorScaleConfig,\n\n    borderRadius: 0,\n    borderWidth: 0,\n    borderColor: { from: 'color' } as InheritedColorConfig<ComputedBoxPlotSummary>,\n\n    medianWidth: 2,\n    medianColor: {\n        from: 'color',\n        modifiers: [['darker', 2.0]],\n    } as InheritedColorConfig<ComputedBoxPlotSummary>,\n\n    whiskerWidth: 2,\n    whiskerColor: {\n        from: 'color',\n    } as InheritedColorConfig<ComputedBoxPlotSummary>,\n    whiskerEndSize: 0.6,\n\n    isInteractive: true,\n    tooltip: BoxPlotTooltip,\n    tooltipLabel: BoxPlotTooltipLabel,\n\n    legends: [],\n    annotations: [],\n    markers: [],\n}\n\nexport const svgDefaultProps = {\n    ...defaultProps,\n    layers: ['grid', 'axes', 'boxPlots', 'markers', 'legends', 'annotations'],\n    boxPlotComponent: BoxPlotItem,\n\n    defs: [],\n    fill: [],\n\n    animate: true,\n    motionConfig: 'default',\n\n    role: 'img',\n    isFocusable: false,\n}\n","import {\n    Scale,\n    ScaleBand,\n    computeScale,\n    ScaleBandSpec,\n    ScaleLinearSpec,\n    ScaleLogSpec,\n    ScaleSymlogSpec,\n    ScaleTimeSpec,\n} from '@nivo/scales'\nimport { BoxPlotSummary, ComputedBoxPlotSummary } from '../types'\nimport { getIndexScale } from './common'\n\ntype Params = {\n    data: BoxPlotSummary[]\n    formatValue: (value: number) => string\n    getTooltipLabel: (datum: BoxPlotSummary) => string\n    innerPadding: number\n    groups: string[]\n    subGroups: string[]\n    indexScale: ScaleBand<string>\n    valueScale: Scale<number, number>\n    bandwidth: number\n    layout: 'vertical' | 'horizontal'\n}\n\nconst generateComputedBoxPlotSummaries = ({\n    data,\n    getTooltipLabel,\n    innerPadding = 0,\n    groups,\n    indexScale,\n    valueScale,\n    formatValue,\n    bandwidth,\n    layout,\n}: Params): ComputedBoxPlotSummary[] => {\n    if (bandwidth === 0) {\n        return Array<ComputedBoxPlotSummary>()\n    }\n    const vertical = layout === 'vertical'\n    return data.map(datum => {\n        const { group, subGroup, groupIndex, subGroupIndex, values } = datum\n        const indexCoordinate =\n            (indexScale(groups[groupIndex]) ?? 0) +\n            bandwidth * subGroupIndex +\n            innerPadding * subGroupIndex\n        const key = `${groupIndex}.${subGroupIndex}`\n        const coords = values.map(valueScale).map(v => v ?? 0)\n        const intervals = [0, 1, 2, 3].map(i => Math.abs(coords[i + 1] - coords[i]) ?? 0)\n        // top-left of rectangle and width/height depend on the layout\n        // (this conditional inside the loop is not ideal, but typical loops will be short)\n        const position = vertical\n            ? {\n                  x: indexCoordinate,\n                  y: valueScale(datum.values[3]) ?? 0,\n                  width: bandwidth,\n                  height: intervals[1] + intervals[2],\n              }\n            : {\n                  x: valueScale(datum.values[1]) ?? 0,\n                  y: indexCoordinate,\n                  width: intervals[1] + intervals[2],\n                  height: bandwidth,\n              }\n        return {\n            key,\n            group,\n            subGroup,\n            data: datum,\n            formatted: {\n                n: String(datum.n),\n                mean: formatValue(datum.mean),\n                extrema: datum.extrema.map(formatValue),\n                values: datum.values.map(formatValue),\n                quantiles: datum.quantiles.map(v => String(100 * v)),\n            },\n            ...position,\n            coordinates: {\n                index: indexCoordinate,\n                values: values.map(v => valueScale(v) ?? 0),\n            },\n            bandwidth,\n            label: getTooltipLabel(datum),\n            layout,\n        } as ComputedBoxPlotSummary\n    })\n}\n\nexport const generateBoxPlots = ({\n    data,\n    layout,\n    groups,\n    subGroups,\n    formatValue,\n    minValue,\n    maxValue,\n    width,\n    height,\n    padding,\n    innerPadding,\n    valueScale: valueScaleConfig,\n    indexScale: indexScaleConfig,\n    getTooltipLabel,\n}: {\n    data: BoxPlotSummary[]\n    layout: string\n    groups: string[] | null\n    subGroups: string[] | null\n    formatValue: (value: number) => string\n    minValue: 'auto' | number\n    maxValue: 'auto' | number\n    width: number\n    height: number\n    padding: number\n    innerPadding: number\n    valueScale: ScaleLinearSpec | ScaleLogSpec | ScaleSymlogSpec | ScaleTimeSpec\n    indexScale: ScaleBandSpec\n    getTooltipLabel: (datum: BoxPlotSummary) => string\n}) => {\n    const [axis, otherAxis, size] =\n        layout === 'vertical' ? (['y', 'x', width] as const) : (['x', 'y', height] as const)\n    const indexScale = getIndexScale(groups ?? [], padding, indexScaleConfig, size, otherAxis)\n\n    const valueScaleSpec = {\n        max: maxValue,\n        min: minValue,\n        ...valueScaleConfig,\n    }\n\n    const values = data.map((datum: BoxPlotSummary) => datum.values).flat()\n    const min = values.reduce((acc: number, value: number) => Math.min(acc, value), Infinity)\n    const max = values.reduce((acc: number, value: number) => Math.max(acc, value), -Infinity)\n\n    const valueScale = computeScale(\n        valueScaleSpec as ScaleLinearSpec | ScaleLogSpec | ScaleSymlogSpec | ScaleTimeSpec,\n        { all: [min, max], min, max },\n        axis === 'x' ? width : height,\n        axis\n    )\n\n    const [xScale, yScale] =\n        layout === 'vertical' ? [indexScale, valueScale] : [valueScale, indexScale]\n\n    const nSubGroups = Math.max(1, subGroups ? subGroups.length : 1)\n    const bandwidth = (indexScale.bandwidth() - innerPadding * (nSubGroups - 1)) / nSubGroups\n\n    const params = {\n        data,\n        groups,\n        subGroups,\n        getTooltipLabel,\n        innerPadding,\n        indexScale,\n        valueScale,\n        formatValue,\n        bandwidth,\n        layout,\n    } as Params\n    const boxPlots = generateComputedBoxPlotSummaries(params)\n\n    return { xScale, yScale, boxPlots }\n}\n","import { ScaleBandSpec, ScaleBand, computeScale } from '@nivo/scales'\n\n/**\n * Generates indexed scale.\n */\nexport const getIndexScale = (\n    groups: string[],\n    padding: number,\n    indexScale: ScaleBandSpec,\n    size: number,\n    axis: 'x' | 'y'\n) => {\n    return (\n        computeScale(indexScale, { all: groups, min: 0, max: 0 }, size, axis) as ScaleBand<string>\n    ).padding(padding)\n}\n","import { BoxPlotDatum, BoxPlotCommonProps, BoxPlotSummary } from '../types'\nimport { defaultProps } from '../props'\n\n/** stratify an array of raw data objects into an array of arrays;\n * each array will create one box plot */\nexport const stratifyData = <RawDatum extends BoxPlotDatum>({\n    data,\n    groups = defaultProps.groups,\n    getGroup,\n    subGroups = defaultProps.subGroups,\n    getSubGroup,\n}: {\n    data: RawDatum[]\n    groups?: BoxPlotCommonProps<RawDatum>['groups']\n    getGroup: ((datum: RawDatum) => string) | null\n    subGroups?: BoxPlotCommonProps<RawDatum>['subGroups']\n    getSubGroup: ((datum: RawDatum) => string) | null\n}) => {\n    const groupsMap = {} as BoxPlotDatum\n    if (groups) {\n        groups.map((g, i) => (groupsMap[g] = i))\n    }\n    const subGroupsMap = {} as BoxPlotDatum\n    if (subGroups) {\n        subGroups.map((sg, i) => (subGroupsMap[sg] = i))\n    }\n\n    const nGroups = Math.max(1, groups ? groups.length : 1)\n    const nSubGroups = Math.max(1, subGroups ? subGroups.length : 1)\n    const n = nGroups * nSubGroups\n    const result = Array(n)\n        .fill([])\n        .map(() => Array<RawDatum>())\n    data.forEach((d: RawDatum) => {\n        const groupIndex = getGroup ? Number(groupsMap[getGroup(d)]) : 0\n        const subGroupIndex = getSubGroup ? Number(subGroupsMap[getSubGroup(d)] ?? 0) : 0\n        const index = groupIndex * nSubGroups + subGroupIndex\n        if (index >= 0) {\n            result[index].push(d)\n        }\n    })\n    return result\n}\n\nconst getQuantile = (values: number[], quantile = 0.5) => {\n    const realIndex = (values.length - 1) * Math.max(0, Math.min(1, quantile))\n    const intIndex = Math.floor(realIndex)\n    if (realIndex === intIndex) return values[intIndex]\n    const v1 = values[intIndex],\n        v2 = values[intIndex + 1]\n    return v1 + (v2 - v1) * (realIndex - intIndex)\n}\n\nconst getMean = (values: number[]) => {\n    const sum = values.reduce((acc, x) => acc + x, 0)\n    return sum / values.length\n}\n\nconst isPrecomputedDistribution = <RawDatum>(\n    datum: RawDatum | Omit<BoxPlotSummary, 'groupIndex' | 'subGroupIndex'>\n): datum is Omit<BoxPlotSummary, 'groupIndex' | 'subGroupIndex'> => {\n    const preComputedKeys = ['values', 'extrema', 'mean', 'quantiles', 'group', 'subGroup', 'n']\n    return preComputedKeys.every(k => k in (datum as object))\n}\n\nexport const summarizeDistribution = <RawDatum extends BoxPlotDatum>({\n    data,\n    getValue,\n    groups,\n    subGroups,\n    groupIndex,\n    subGroupIndex,\n    quantiles,\n}: {\n    data: RawDatum[]\n    getValue: (datum: RawDatum) => unknown\n    groups: string[] | null\n    subGroups: string[] | null\n    groupIndex: number\n    subGroupIndex: number\n    quantiles: number[]\n}) => {\n    // accept a precomputed summary representation if it has all the required keys\n    if (data.length === 1 && isPrecomputedDistribution(data[0])) {\n        return {\n            groupIndex: groupIndex,\n            subGroupIndex: subGroupIndex,\n            ...data[0],\n        } as BoxPlotSummary\n    }\n    // compute the summary representation from raw data using quantiles\n    const values = data.map(v => Number(getValue(v))) as number[]\n    values.sort((a, b) => a - b)\n    return {\n        group: groups ? groups[groupIndex] : '',\n        groupIndex: groupIndex,\n        subGroup: subGroups ? subGroups[subGroupIndex] : '',\n        subGroupIndex: subGroupIndex,\n        n: values.length,\n        extrema: [values[0], values[values.length - 1]],\n        quantiles: quantiles,\n        values: quantiles.map(q => getQuantile(values, q)),\n        mean: getMean(values),\n    } as BoxPlotSummary\n}\n","import { useMemo, useState } from 'react'\nimport { SpringConfig, useTransition } from '@react-spring/web'\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors'\nimport { PropertyAccessor, usePropertyAccessor, useValueFormatter } from '@nivo/core'\nimport { useTheme } from '@nivo/theming'\nimport {\n    BoxPlotCommonProps,\n    BoxPlotDatum,\n    BoxPlotItemProps,\n    BoxPlotSummary,\n    ComputedBoxPlotSummary,\n    DataProps,\n    LegendData,\n} from './types'\nimport { defaultProps } from './props'\nimport { generateBoxPlots, getLegendData, stratifyData, summarizeDistribution } from './compute'\nimport { LegendProps } from '@nivo/legends'\n\nexport const useLevels = <RawDatum extends BoxPlotDatum>(\n    levels: string[] | null,\n    data: RawDatum[],\n    by: PropertyAccessor<RawDatum, string> | null\n) => {\n    const getLevel = usePropertyAccessor(by ?? 'id')\n    if (levels) return levels\n    if (!by) return null\n    const result = new Set(data.map((d: RawDatum) => getLevel(d)))\n    return Array.from(result)\n}\n\nexport const useBoxPlot = <RawDatum extends BoxPlotDatum>({\n    data,\n    value,\n    groupBy,\n    groups = defaultProps.groups,\n    subGroupBy = defaultProps.subGroupBy,\n    subGroups = defaultProps.subGroups,\n    quantiles = defaultProps.quantiles,\n    width,\n    height,\n    layout,\n    minValue,\n    maxValue,\n    valueScale = defaultProps.valueScale,\n    indexScale = defaultProps.indexScale,\n    padding = defaultProps.padding,\n    innerPadding = defaultProps.innerPadding,\n    colorBy = defaultProps.colorBy,\n    colors = defaultProps.colors,\n    opacity,\n    activeOpacity,\n    inactiveOpacity,\n    borderColor,\n    medianColor,\n    whiskerColor,\n    legendLabel,\n    tooltipLabel,\n    valueFormat = defaultProps.valueFormat,\n    legends = defaultProps.legends,\n}: {\n    data: DataProps<RawDatum>['data']\n    width: number\n    height: number\n} & Pick<\n    BoxPlotCommonProps<RawDatum>,\n    | 'value'\n    | 'groupBy'\n    | 'groups'\n    | 'subGroupBy'\n    | 'subGroups'\n    | 'quantiles'\n    | 'layout'\n    | 'minValue'\n    | 'maxValue'\n    | 'valueScale'\n    | 'indexScale'\n    | 'padding'\n    | 'innerPadding'\n    | 'colorBy'\n    | 'colors'\n    | 'opacity'\n    | 'activeOpacity'\n    | 'inactiveOpacity'\n    | 'borderColor'\n    | 'medianColor'\n    | 'whiskerColor'\n    | 'legendLabel'\n    | 'tooltipLabel'\n    | 'valueFormat'\n    | 'legends'\n>) => {\n    // ensure that groups and subGroups are defined\n    groups = useLevels(groups, data, groupBy)\n    subGroups = useLevels(subGroups, data, subGroupBy)\n    const getGroup = usePropertyAccessor(groupBy ?? 'group')\n    const getSubGroup = usePropertyAccessor(subGroupBy ?? 'subGroup')\n    const getTooltipLabel = usePropertyAccessor(tooltipLabel)\n    const getValue = usePropertyAccessor(value)\n    const formatValue = useValueFormatter(valueFormat)\n\n    const theme = useTheme()\n    const getColor = useOrdinalColorScale(colors, colorBy)\n    // trigger color fetch for all groups and subgroups\n    if (groups && colorBy === 'group') {\n        groups.map(group => getColor({ group } as BoxPlotSummary))\n    }\n    if (subGroups && colorBy === 'subGroup') {\n        subGroups.map(subGroup => getColor({ subGroup } as BoxPlotSummary))\n    }\n\n    const getBorderColor = useInheritedColor<ComputedBoxPlotSummary>(borderColor, theme)\n    const getMedianColor = useInheritedColor<ComputedBoxPlotSummary>(medianColor, theme)\n    const getWhiskerColor = useInheritedColor<ComputedBoxPlotSummary>(whiskerColor, theme)\n\n    // stratify long array with individual data points into arrays that will\n    // feed boxplot representations\n    const dataStratified = stratifyData({\n        data,\n        groups,\n        getGroup,\n        subGroups,\n        getSubGroup,\n    })\n\n    const nSubGroups = Math.max(1, subGroups ? subGroups.length : 1)\n    const dataSummary = useMemo(\n        () =>\n            dataStratified.map((stratum: RawDatum[], index) =>\n                summarizeDistribution({\n                    data: stratum,\n                    getValue,\n                    groups,\n                    subGroups,\n                    groupIndex: Math.floor(index / nSubGroups),\n                    subGroupIndex: index % nSubGroups,\n                    quantiles,\n                })\n            ),\n        [dataStratified, getValue, groups, subGroups, nSubGroups, quantiles]\n    )\n\n    const {\n        boxPlots: unStyledBoxPlots,\n        xScale,\n        yScale,\n    } = useMemo(\n        () =>\n            generateBoxPlots({\n                layout,\n                data: dataSummary.filter(stratum => stratum.n > 0),\n                groups,\n                subGroups,\n                formatValue,\n                minValue,\n                maxValue,\n                width,\n                height,\n                padding,\n                innerPadding,\n                valueScale,\n                indexScale,\n                getTooltipLabel,\n            }),\n        [\n            layout,\n            dataSummary,\n            groups,\n            subGroups,\n            formatValue,\n            minValue,\n            maxValue,\n            width,\n            height,\n            padding,\n            innerPadding,\n            valueScale,\n            indexScale,\n            getTooltipLabel,\n        ]\n    )\n\n    const [activeItem, setActiveItem] = useState<ComputedBoxPlotSummary | null>(null)\n    const activeKeys = useMemo(() => {\n        if (!activeItem) return []\n        const activeGroup = activeItem.group\n        const activeSubGroup = activeItem.subGroup\n        return unStyledBoxPlots\n            .filter(boxPlot => activeGroup === boxPlot.group || activeSubGroup === boxPlot.subGroup)\n            .map(boxPlot => boxPlot.key)\n    }, [unStyledBoxPlots, activeItem])\n\n    const boxPlots: ComputedBoxPlotSummary[] = useMemo(\n        () =>\n            unStyledBoxPlots.map(boxPlot => {\n                let computedOpacity = activeKeys.includes(boxPlot.key)\n                    ? activeOpacity\n                    : inactiveOpacity\n                if (!activeItem) {\n                    computedOpacity = opacity\n                }\n                return {\n                    ...boxPlot,\n                    color: getColor(boxPlot.data),\n                    opacity: computedOpacity,\n                }\n            }),\n        [\n            unStyledBoxPlots,\n            activeItem,\n            activeKeys,\n            opacity,\n            activeOpacity,\n            inactiveOpacity,\n            getColor,\n        ]\n    )\n\n    const legendsData: [LegendProps, LegendData[]][] = useMemo(\n        () =>\n            legends.map(legend => {\n                const data = getLegendData({\n                    boxPlots,\n                    dataFrom: colorBy,\n                    legendLabel,\n                })\n                return [legend, data]\n            }),\n        [legends, boxPlots, colorBy, legendLabel]\n    )\n\n    return {\n        boxPlots,\n        xScale,\n        yScale,\n        getTooltipLabel,\n        formatValue,\n        getColor,\n        getBorderColor,\n        getMedianColor,\n        getWhiskerColor,\n        legendsData,\n        activeItem,\n        setActiveItem,\n    }\n}\n\nexport const useBoxPlotTransition = ({\n    boxPlots,\n    getBorderColor,\n    getMedianColor,\n    getWhiskerColor,\n    animate,\n    springConfig,\n}: {\n    boxPlots: ComputedBoxPlotSummary[]\n    getBorderColor: (d: ComputedBoxPlotSummary) => string\n    getMedianColor: (d: ComputedBoxPlotSummary) => string\n    getWhiskerColor: (d: ComputedBoxPlotSummary) => string\n    animate: boolean\n    springConfig: SpringConfig\n}) => {\n    const getTransitionProps = (boxPlot: ComputedBoxPlotSummary) => ({\n        borderColor: getBorderColor(boxPlot) as string,\n        medianColor: getMedianColor(boxPlot) as string,\n        whiskerColor: getWhiskerColor(boxPlot) as string,\n        color: boxPlot.color,\n        opacity: boxPlot.opacity,\n        valueInterval: Math.abs(boxPlot.coordinates.values[3] - boxPlot.coordinates.values[1]),\n        valueDistance0: boxPlot.coordinates.values[0] - boxPlot.coordinates.values[2],\n        valueDistance1: boxPlot.coordinates.values[1] - boxPlot.coordinates.values[2],\n        valueDistance3: boxPlot.coordinates.values[3] - boxPlot.coordinates.values[2],\n        valueDistance4: boxPlot.coordinates.values[4] - boxPlot.coordinates.values[2],\n        // translate to the midpoint of the median line\n        transform:\n            boxPlot.layout === 'vertical'\n                ? `translate(${boxPlot.x + boxPlot.width / 2}, ${boxPlot.coordinates.values[2]})`\n                : `translate(${boxPlot.coordinates.values[2]}, ${\n                      boxPlot.y + boxPlot.height / 2\n                  }) rotate(-90)`,\n    })\n\n    return useTransition<ComputedBoxPlotSummary, BoxPlotItemProps<BoxPlotDatum>['animatedProps']>(\n        boxPlots,\n        {\n            keys: boxPlot => boxPlot.key,\n            initial: animate ? undefined : null, // required for ssr\n            from: boxPlot => ({\n                ...getTransitionProps(boxPlot),\n                valueInterval: 0,\n                valueDistance0: 0,\n                valueDistance1: 0,\n                valueDistance3: 0,\n                valueDistance4: 0,\n            }),\n            enter: boxPlot => ({ ...getTransitionProps(boxPlot) }),\n            update: boxPlot => ({ ...getTransitionProps(boxPlot) }),\n            leave: boxPlot => ({\n                ...getTransitionProps(boxPlot),\n                valueInterval: 0,\n                valueDistance0: 0,\n                valueDistance1: 0,\n                valueDistance3: 0,\n                valueDistance4: 0,\n            }),\n            config: springConfig,\n            immediate: !animate,\n        }\n    )\n}\n","import { BoxPlotDatum, BoxPlotCommonProps, ComputedBoxPlotSummary, LegendData } from '../types'\nimport { getPropertyAccessor } from '@nivo/core'\nimport uniqBy from 'lodash/uniqBy.js'\nimport sortBy from 'lodash/sortBy.js'\n\nexport const getLegendData = <RawDatum extends BoxPlotDatum>({\n    boxPlots,\n    dataFrom,\n    legendLabel,\n}: {\n    boxPlots: ComputedBoxPlotSummary[]\n    dataFrom: BoxPlotCommonProps<RawDatum>['colorBy']\n    legendLabel: BoxPlotCommonProps<RawDatum>['legendLabel']\n}) => {\n    const getLegendLabel = getPropertyAccessor(legendLabel ?? dataFrom)\n    const byGroup = dataFrom === 'group'\n    const legendData = boxPlots.map(\n        boxPlot =>\n            // id & label are redundant below, but needed for ts in @nivo/legends\n            ({\n                id: byGroup ? boxPlot.data.groupIndex : boxPlot.data.subGroupIndex,\n                label: getLegendLabel(boxPlot?.data),\n                color: boxPlot?.color,\n            }) as LegendData\n    )\n    // reduce to unique labels, then sort by id/index\n    // ensures correct ordering of legends even when certain group-subGroup combos are missing\n    return sortBy(\n        uniqBy(legendData, ({ label }) => label),\n        ({ id }) => id\n    )\n}\n","import { Fragment, ReactNode, createElement, useMemo, forwardRef, Ref, ReactElement } from 'react'\nimport { Axes, Grid } from '@nivo/axes'\nimport {\n    CartesianMarkers,\n    Container,\n    SvgWrapper,\n    // @ts-expect-error no types\n    bindDefs,\n    useDimensions,\n    useMotionConfig,\n    WithChartRef,\n} from '@nivo/core'\nimport { BoxPlotAnnotations } from './BoxPlotAnnotations'\nimport { BoxPlotLegends } from './BoxPlotLegends'\nimport {\n    BoxPlotCustomLayerProps,\n    BoxPlotDatum,\n    BoxPlotLayer,\n    BoxPlotLayerId,\n    BoxPlotSvgProps,\n} from './types'\nimport { svgDefaultProps } from './props'\nimport { useBoxPlot, useBoxPlotTransition } from './hooks'\n\ntype InnerBoxPlotProps<RawDatum extends BoxPlotDatum> = Omit<\n    BoxPlotSvgProps<RawDatum>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerBoxPlot = <RawDatum extends BoxPlotDatum>({\n    data,\n    value = svgDefaultProps.value,\n    groupBy = svgDefaultProps.groupBy,\n    groups = svgDefaultProps.groups,\n    subGroupBy = svgDefaultProps.subGroupBy,\n    subGroups = svgDefaultProps.subGroups,\n    quantiles = svgDefaultProps.quantiles,\n    margin: partialMargin,\n    width,\n    height,\n    layout = svgDefaultProps.layout,\n    minValue = svgDefaultProps.minValue,\n    maxValue = svgDefaultProps.maxValue,\n    valueScale = svgDefaultProps.valueScale,\n    indexScale = svgDefaultProps.indexScale,\n    padding = svgDefaultProps.padding,\n    innerPadding = svgDefaultProps.innerPadding,\n    opacity = svgDefaultProps.opacity,\n    activeOpacity = svgDefaultProps.activeOpacity,\n    inactiveOpacity = svgDefaultProps.inactiveOpacity,\n    axisTop,\n    axisRight,\n    axisBottom = svgDefaultProps.axisBottom,\n    axisLeft = svgDefaultProps.axisLeft,\n    enableGridX = svgDefaultProps.enableGridX,\n    enableGridY = svgDefaultProps.enableGridY,\n    gridXValues,\n    gridYValues,\n    layers = svgDefaultProps.layers as BoxPlotLayer<RawDatum>[],\n    boxPlotComponent = svgDefaultProps.boxPlotComponent,\n    colorBy = svgDefaultProps.colorBy,\n    colors = svgDefaultProps.colors,\n    defs = svgDefaultProps.defs,\n    fill,\n    borderRadius = svgDefaultProps.borderRadius,\n    borderWidth = svgDefaultProps.borderWidth,\n    borderColor = svgDefaultProps.borderColor,\n    medianWidth = svgDefaultProps.medianWidth,\n    medianColor = svgDefaultProps.medianColor,\n    whiskerWidth = svgDefaultProps.whiskerWidth,\n    whiskerColor = svgDefaultProps.whiskerColor,\n    whiskerEndSize = svgDefaultProps.whiskerEndSize,\n    markers = svgDefaultProps.markers,\n    legendLabel,\n    tooltipLabel = svgDefaultProps.tooltipLabel,\n    valueFormat,\n    isInteractive = svgDefaultProps.isInteractive,\n    tooltip = svgDefaultProps.tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    annotations = svgDefaultProps.annotations,\n    legends = svgDefaultProps.legends,\n    role = svgDefaultProps.role,\n    ariaLabel,\n    ariaLabelledBy,\n    ariaDescribedBy,\n    isFocusable = svgDefaultProps.isFocusable,\n    boxPlotAriaLabel,\n    boxPlotAriaLabelledBy,\n    boxPlotAriaDescribedBy,\n    forwardedRef,\n}: InnerBoxPlotProps<RawDatum> & {\n    forwardedRef: Ref<SVGSVGElement>\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        boxPlots,\n        xScale,\n        yScale,\n        getTooltipLabel,\n        getBorderColor,\n        getMedianColor,\n        getWhiskerColor,\n        legendsData,\n        activeItem,\n        setActiveItem,\n    } = useBoxPlot<RawDatum>({\n        data,\n        value,\n        groupBy,\n        groups,\n        subGroupBy,\n        subGroups,\n        quantiles,\n        width: innerWidth,\n        height: innerHeight,\n        layout,\n        minValue,\n        maxValue,\n        valueScale,\n        indexScale,\n        padding,\n        innerPadding,\n        colorBy,\n        colors,\n        opacity,\n        activeOpacity,\n        inactiveOpacity,\n        borderColor,\n        medianColor,\n        whiskerColor,\n        legendLabel,\n        tooltipLabel,\n        valueFormat,\n        legends,\n    })\n\n    const transition = useBoxPlotTransition({\n        boxPlots,\n        getBorderColor,\n        getMedianColor,\n        getWhiskerColor,\n        animate,\n        springConfig,\n    })\n\n    const commonProps = useMemo(\n        () => ({\n            borderRadius,\n            borderWidth,\n            medianWidth,\n            whiskerWidth,\n            whiskerEndSize,\n            padding,\n            innerPadding,\n            isInteractive,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            getTooltipLabel,\n            tooltip,\n            isFocusable,\n            ariaLabel: boxPlotAriaLabel,\n            ariaLabelledBy: boxPlotAriaLabelledBy,\n            ariaDescribedBy: boxPlotAriaDescribedBy,\n            activeItem,\n            setActiveItem,\n        }),\n        [\n            borderRadius,\n            borderWidth,\n            medianWidth,\n            whiskerWidth,\n            whiskerEndSize,\n            padding,\n            innerPadding,\n            isInteractive,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n            getTooltipLabel,\n            isFocusable,\n            boxPlotAriaLabel,\n            boxPlotAriaLabelledBy,\n            boxPlotAriaDescribedBy,\n            activeItem,\n            setActiveItem,\n        ]\n    )\n\n    const boundDefs = bindDefs(defs, boxPlots, fill, {\n        dataKey: 'data',\n        targetKey: 'fill',\n    })\n\n    const layerById: Record<BoxPlotLayerId, ReactNode> = {\n        annotations: null,\n        axes: null,\n        boxPlots: null,\n        grid: null,\n        legends: null,\n        markers: null,\n    }\n\n    if (layers.includes('annotations')) {\n        layerById.annotations = (\n            <BoxPlotAnnotations key=\"annotations\" boxPlots={boxPlots} annotations={annotations} />\n        )\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        )\n    }\n\n    if (layers.includes('boxPlots')) {\n        layerById.boxPlots = (\n            <Fragment key=\"boxPlots\">\n                {transition((animatedProps, boxPlot) =>\n                    createElement(boxPlotComponent, {\n                        ...commonProps,\n                        boxPlot,\n                        layout,\n                        animatedProps,\n                    })\n                )}\n            </Fragment>\n        )\n    }\n\n    if (layers.includes('grid')) {\n        layerById.grid = (\n            <Grid\n                key=\"grid\"\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n                xValues={gridXValues}\n                yValues={gridYValues}\n            />\n        )\n    }\n\n    if (layers.includes('legends')) {\n        layerById.legends = (\n            <BoxPlotLegends\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                legends={legendsData}\n            />\n        )\n    }\n\n    if (layers.includes('markers')) {\n        layerById.markers = (\n            <CartesianMarkers<number | string, number>\n                key=\"markers\"\n                markers={markers}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={xScale as (v: number | string) => number}\n                yScale={yScale as (v: number) => number}\n            />\n        )\n    }\n\n    const layerContext: BoxPlotCustomLayerProps<RawDatum> = useMemo(\n        () => ({\n            ...commonProps,\n            layout,\n            margin,\n            width,\n            height,\n            innerWidth,\n            innerHeight,\n            padding,\n            innerPadding,\n            boxPlots,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n            getTooltipLabel,\n            xScale,\n            yScale,\n        }),\n        [\n            commonProps,\n            layout,\n            margin,\n            width,\n            height,\n            innerWidth,\n            innerHeight,\n            padding,\n            innerPadding,\n            boxPlots,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n            getTooltipLabel,\n            xScale,\n            yScale,\n        ]\n    )\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n            ariaLabel={ariaLabel}\n            ariaLabelledBy={ariaLabelledBy}\n            ariaDescribedBy={ariaDescribedBy}\n            isFocusable={isFocusable}\n            ref={forwardedRef}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const BoxPlot = forwardRef(\n    <RawDatum extends BoxPlotDatum>(\n        {\n            isInteractive = svgDefaultProps.isInteractive,\n            animate = svgDefaultProps.animate,\n            motionConfig = svgDefaultProps.motionConfig,\n            theme,\n            renderWrapper,\n            ...otherProps\n        }: BoxPlotSvgProps<RawDatum>,\n        ref: Ref<SVGSVGElement>\n    ) => (\n        <Container\n            {...{\n                animate,\n                isInteractive,\n                motionConfig,\n                renderWrapper,\n                theme,\n            }}\n        >\n            <InnerBoxPlot<RawDatum>\n                isInteractive={isInteractive}\n                {...otherProps}\n                forwardedRef={ref}\n            />\n        </Container>\n    )\n) as <RawDatum extends BoxPlotDatum>(\n    props: WithChartRef<BoxPlotSvgProps<RawDatum>, SVGSVGElement>\n) => ReactElement\n","import { forwardRef, ReactElement, Ref } from 'react'\nimport { ResponsiveWrapper, ResponsiveProps, WithChartRef } from '@nivo/core'\nimport { BoxPlotDatum, BoxPlotSvgProps } from './types'\nimport { BoxPlot } from './BoxPlot'\n\nexport const ResponsiveBoxPlot = forwardRef(\n    <RawDatum extends BoxPlotDatum>(\n        {\n            defaultWidth,\n            defaultHeight,\n            onResize,\n            debounceResize,\n            ...props\n        }: ResponsiveProps<BoxPlotSvgProps<RawDatum>>,\n        ref: Ref<SVGSVGElement>\n    ) => (\n        <ResponsiveWrapper\n            defaultWidth={defaultWidth}\n            defaultHeight={defaultHeight}\n            onResize={onResize}\n            debounceResize={debounceResize}\n        >\n            {({ width, height }) => (\n                <BoxPlot<RawDatum> width={width} height={height} {...props} ref={ref} />\n            )}\n        </ResponsiveWrapper>\n    )\n) as <RawDatum extends BoxPlotDatum>(\n    props: WithChartRef<ResponsiveProps<BoxPlotSvgProps<RawDatum>>, SVGSVGElement>\n) => ReactElement\n"],"names":["getPosition","boxPlot","x","width","y","height","getDimensions","_ref","size","Math","max","BoxPlotAnnotations","_ref2","boxPlots","annotations","boundAnnotations","useAnnotations","data","_jsx","_Fragment","children","map","annotation","i","Annotation","_extends","BoxPlotLegends","legends","_legend$data","legend","jsx","BoxLegendSvg","containerWidth","containerHeight","BoxPlotItemWhisker","distStart","distEnd","whiskerEndSize","whiskerColor","whiskerWidth","_jsxs","animated","line","x1","x2","y1","y2","strokeWidth","stroke","BoxPlotItem","_boxPlot$fill","layout","_ref2$animatedProps","animatedProps","borderColor","medianColor","color","opacity","transform","valueInterval","valueDistance0","valueDistance1","valueDistance3","valueDistance4","borderRadius","borderWidth","medianWidth","isInteractive","onClick","onMouseEnter","onMouseLeave","setActiveItem","tooltip","isFocusable","ariaLabel","ariaLabelledBy","ariaDescribedBy","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","vertical","bandwidth","renderTooltip","useMemo","createElement","handleClick","useCallback","event","handleTooltip","handleMouseEnter","handleMouseLeave","handleBlur","jsxs","g","key","undefined","onMouseMove","onBlur","focusable","tabIndex","rect","rx","ry","fill","defaultTranslation","n","mean","min","Summary","Quantiles","BoxPlotSummaryTooltip","memo","label","formatted","_ref$enableChip","enableChip","theme","useTheme","translation","hasTranslation","quantiles","q","values","style","container","basic","Chip","chip","display","marginTop","marginRight","extrema","defaultProps","value","groupBy","groups","subGroupBy","subGroups","minValue","maxValue","valueScale","type","indexScale","round","padding","innerPadding","activeOpacity","inactiveOpacity","axisTop","axisRight","axisBottom","axisLeft","enableGridX","enableGridY","valueFormat","toPrecision","colorBy","colors","scheme","from","modifiers","tooltipLabel","datum","subGroup","group","markers","svgDefaultProps","layers","boxPlotComponent","defs","animate","motionConfig","role","generateBoxPlots","formatValue","valueScaleConfig","indexScaleConfig","getTooltipLabel","_ref3","axis","computeScale","all","getIndexScale","valueScaleSpec","flat","reduce","acc","Infinity","_ref4","xScale","yScale","nSubGroups","length","_ref$innerPadding","Array","_indexScale","_valueScale","_valueScale2","groupIndex","subGroupIndex","indexCoordinate","coords","v","intervals","_Math$abs","abs","position","String","coordinates","index","_valueScale3","generateComputedBoxPlotSummaries","getMean","summarizeDistribution","getValue","every","k","Number","sort","a","b","quantile","realIndex","intIndex","floor","v1","getQuantile","useLevels","levels","by","getLevel","usePropertyAccessor","result","Set","d","useBoxPlot","_ref$groups","_ref$subGroupBy","_ref$subGroups","_ref$quantiles","_ref$valueScale","_ref$indexScale","_ref$padding","_ref$colorBy","_ref$colors","legendLabel","_ref$valueFormat","_ref$legends","getGroup","getSubGroup","useValueFormatter","getColor","useOrdinalColorScale","getBorderColor","useInheritedColor","getMedianColor","getWhiskerColor","dataStratified","groupsMap","subGroupsMap","sg","nGroups","forEach","_subGroupsMap$getSubG","push","stratifyData","dataSummary","stratum","_useMemo","filter","unStyledBoxPlots","_useState","useState","activeItem","activeKeys","activeGroup","activeSubGroup","computedOpacity","includes","legendsData","dataFrom","getLegendLabel","getPropertyAccessor","byGroup","legendData","id","sortBy","uniqBy","getLegendData","InnerBoxPlot","_ref$value","_ref$groupBy","partialMargin","margin","_ref$layout","_ref$minValue","_ref$maxValue","_ref$opacity","_ref$activeOpacity","_ref$inactiveOpacity","_ref$axisBottom","_ref$axisLeft","_ref$enableGridX","_ref$enableGridY","gridXValues","gridYValues","_ref$layers","_ref$boxPlotComponent","_ref$defs","_ref$borderRadius","_ref$borderWidth","_ref$borderColor","_ref$medianWidth","_ref$medianColor","_ref$whiskerWidth","_ref$whiskerColor","_ref$whiskerEndSize","_ref$markers","_ref$tooltipLabel","_ref$isInteractive","_ref$tooltip","_ref$annotations","_ref$role","_ref$isFocusable","boxPlotAriaLabel","boxPlotAriaLabelledBy","boxPlotAriaDescribedBy","forwardedRef","_useMotionConfig","useMotionConfig","springConfig","config","_useDimensions","useDimensions","outerWidth","outerHeight","innerWidth","innerHeight","_useBoxPlot","transition","getTransitionProps","useTransition","keys","initial","enter","update","leave","immediate","useBoxPlotTransition","commonProps","boundDefs","bindDefs","dataKey","targetKey","layerById","axes","grid","Axes","top","right","bottom","left","Fragment","Grid","xValues","yValues","CartesianMarkers","layerContext","SvgWrapper","ref","layer","_layerById$layer","BoxPlot","forwardRef","_ref2$isInteractive","_ref2$animate","_ref2$motionConfig","renderWrapper","otherProps","_objectWithoutPropertiesLoose","_excluded","Container","ResponsiveBoxPlot","defaultWidth","defaultHeight","onResize","debounceResize","props","ResponsiveWrapper"],"mappings":"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"}